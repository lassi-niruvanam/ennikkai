உள்ளீடு math 
உள்ளீடு re 

உள்ளீடு .வார்ப்புரு இலிருந்து எண்குறிமுறைமை


தொகுப்பு இடஞ்சார் (எண்குறிமுறைமை):
    நிரல்பாகம் __init__(தன், பெயர், ஒருங்குறி, குறிகள், பிரிப்பு, அடுக்குக்குறி):
        தன்.குறிகள் = குறிகள்
        தன்.பிரிப்பு = பிரிப்பு
        தன்.அடுக்குக்குறி = அடுக்குக்குறி
        தன்.அடிமானம் = len(குறிகள்)

        super().__init__(பெயர், ஒருங்குறி)

    நிரல்பாகம் எண்ணுக்கு (தன், உரை):
        உரை = உரை.strip('+')
        any(அடு in உரை ஒவ்வொன்றாக அடு தன்.அடுக்குக்குறி இல்) ஆனால்:
            எண், அடு = re.split(rf'[{தன்.அடுக்குக்குறி}]', உரை)
            பின்கொடு தன்.எண்ணுக்கு(எண்) * தன்.அடிமானம் ** தன்.எண்ணுக்கு(அடு)

        தன்.அடிமானம் == ௰ ஆனால்:
            ஒவ்வொன்றாக எ, குறி enumerate(தன்.குறிகள்) இல்:
                உரை = உரை.replace(குறி, str(எ))
            any(பி in உரை ஒவ்வொன்றாக பி தன்.பிரிப்பு இல்) ஆனால்:
                உரை = re.sub(rf'[{தன்.பிரிப்பு}]', '.', உரை)
                பின்கொடு float(உரை)
            பின்கொடு int(உரை)
        ஏதேனில்:
            அடி = தன்.அடிமானம்

            எண்=௦

            try:
                முழு, தசம = re.split(rf'[{தன்.பிரிப்பு}]', உரை)
            except ValueError:
                முழு = உரை
                தசம = ஒன்றுமில்லை

            எதிர் = தப்பு
            முழு ஆனால்:
                முழு [௦] == '-' ஆனால்:
                    முழு = முழு[௧:]
                    எதிர் = உண்மை

                ஒவ்வொன்றாக அ முழு இல்:
                    எண் *= அடி
                    எண் += தன்.குறிகள்.index(அ)

            தசம ஆனால்:
                த = அடி
                ஒவ்வொன்றாக எ, அ enumerate(தசம) இல்:
                    எண் += தன்.குறிகள்.index(அ) / த
                    எண் = round(எண்,எ_சுற்று(௧/த))
                    த *= அடி

            எதிர் ஆனால்:
                எண் *= -௧
            any(பி in உரை ஒவ்வொன்றாக பி தன்.பிரிப்பு இல்) ஆனால்:
                பின்கொடு float(எண்)
            பின்கொடு int(எண்)

    நிரல்பாகம் உரைக்கு(தன், எண்):
        தன்.அடிமானம் == ௰ ஆனால்:
            உரை = str(எண்)
            'e' in உரை ஆனால்:
                உரை = உரை.replace('e', தன்.அடுக்குக்குறி[௦])
            ஒவ்வொன்றாக எ, குறி enumerate(தன்.குறிகள்) இல்:
                str(எ) in உரை ஆனால்:
                    உரை = உரை.replace(str(எ), குறி)
            '.' in உரை ஆனால்:
                உரை = உரை.replace('.', தன்.பிரிப்பு[௦])
        ஏதேனில்:
            எண் == ௦ ஆனால்:
                பின்கொடு தன்.குறிகள்[௦] isinstance(எண், int) ஆனால் ஏதேனில் தன்.குறிகள்[௦] + தன்.பிரிப்பு[௦]
            அடி = தன்.அடிமானம்

            எதிர் = எண் < ௦
            எண் = abs(எண்)
            isinstance(எண், int) ஆனால்:
                முழு = எண்
                தசம = ஒன்றுமில்லை
            ஏதேனில்:
                தசம, முழு = math.modf(எண்)

            முழு == ௦ ஆனால்:
                உரை = தன்.குறிகள்[௦]
            ஏதேனில்:
                உரை = ''
            முழு வரை:
                உரை = தன்.குறிகள்[int(முழு % அடி)] + உரை
                முழு = int(முழு / அடி)

            தசம is not ஒன்றுமில்லை ஆனால்:
                உரை += தன்.பிரிப்பு[௦]
                தசம != ௦ வரை:
                    சுற்று = எ_சுற்று(தசம)
                    தசம *= அடி
                    உரை += தன்.குறிகள்[int(தசம)]
                    தசம -= int(தசம)
                    தசம = round(தசம, சுற்று)

            எதிர் ஆனால்:
                உரை = '-' + உரை

        பின்கொடு உரை

    நிரல்பாகம் சுருங்குறித்தொடர்(தன், வடிவம்=ஒன்றுமில்லை):
        தொடர் = rf'[-+]?(([{தன்.குறிகள்}]+([{தன்.பிரிப்பு}][{தன்.குறிகள்}]*)?)|([{தன்.பிரிப்பு}][{தன்.குறிகள்}]+))' 

        பின்கொடு rf'({தொடர்})([{தன்.அடுக்குக்குறி}][-+]?[{தன்.குறிகள்}]+)?' 


நிரல்பாகம் எ_சுற்று(எண்):
    உரை = str(எண்)
    'e' not in உரை ஆனால்:
        பின்கொடு len(உரை)
    ச, த = உரை.split('e-')
    பின்கொடு int(த) + len(ச)
